{
  "priority": 1,
  "scenarioName": "Locked to different user",
  "request": {
    "method": "GET",
    "urlPathPattern": "/survey/api/survey/5000061/locks",
    "headers": {
      "Authorization": {
        "matches": "Bearer ([A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*)"
      }
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "transactionLock": {
        "locked": true,
        "lockedId": 5000061,
        "lockedEntityId": 2100000,
        "sessionUser": "{{regexExtract request.headers.Authorization.[0] 'Bearer +[A-Za-z0-9-_=]+.([A-Za-z0-9-_=]+)' 'groups'}}{{#assign 'payload'}}{{base64 groups.[0] decode=true}}{{/assign}}{{jsonPath payload '$.id'}}",
        "type": null,
        "lockedBy": {
          "id": "extsurv4",
          "givenNames": "Survey X",
          "surname": "External"
        },
        "lockedAt": "{{now}}",
        "isNewAppLock": false
      },
      "taCertificationRequestLocks": []
    },
    "fixedDelayMilliseconds": 100
  }
}
